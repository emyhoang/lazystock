{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/auth.service.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/register/register.component.css","webpack:///./src/app/register/register.component.html","webpack:///./src/app/register/register.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RegisterComponent } from './register/register.component';\nimport { LoginComponent } from './login/login.component';\n\nconst routes: Routes = [\n  { path: 'register', component: RegisterComponent },\n  { path: 'login', component: LoginComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<div style=\\\"text-align:center\\\">\\n  <h1>\\n    Welcome to {{ title }}!\\n  </h1>\\n</div>\\n\\n<router-outlet></router-outlet>\\n\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'lazystock-frontend';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { RegisterComponent } from './register/register.component';\nimport { AuthService } from './auth.service';\nimport { HttpClientModule } from '@angular/common/http';\nimport { LoginComponent } from './login/login.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    RegisterComponent,\n    LoginComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    ReactiveFormsModule,\n    HttpClientModule\n  ],\n  providers: [\n    AuthService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable, PLATFORM_ID, Inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Observable } from 'rxjs';\nimport { map } from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class AuthService {\n  private token: string;\n  private baseURL = 'http://localhost:3000/api';\n  \n\n  constructor(private http: HttpClient,\n              private router: Router,\n              @Inject(PLATFORM_ID) private platformId: Object) { }\n\n  private request(method, path, data): Observable<any>{\n    let request;\n\n    if (method === 'post'){\n      if (path === 'login' || path === 'register'){\n        request = this.http.post(`${this.baseURL}/${path}`, data)\n      }else {\n        request = this.http.post(`${this.baseURL}/${path}`, data, { headers: this.defaultHeaders() })\n      }\n    } else {\n      request = this.http.get(`${this.baseURL}/${path}`, { headers: this.defaultHeaders() })\n    }\n\n    request = request.pipe(map((data: TokenResponse) => {\n      if(data.token){\n        this.saveToken(data.token);\n      }\n\n      return data\n    }));\n\n    return request;\n  }\n\n  private defaultHeaders(){\n    return { Authorization: `Bearer ${this.getToken()}`}\n  }\n\n  public register(user): Observable<any> {\n    return this.request('post', 'register', user);\n  }\n\n  private saveToken(token: string): void {\n    if(isPlatformBrowser(this.platformId)){\n      localStorage.setItem('mean-token', token);\n      this.token = token;\n    }\n  }\n\n  private getToken(): string {\n    if(isPlatformBrowser(this.platformId)){\n      if (!this.token) {\n        this.token = localStorage.getItem('mean-token');\n      }\n      return this.token;\n    } else{\n      return null;\n    } \n  }\n\n  public logout(): void {\n    if(isPlatformBrowser(this.platformId)){\n      this.token = '';\n      window.localStorage.removeItem('mean-token');\n      this.router.navigateByUrl('/');\n    }\n  }\n\n  public getUserDetails(): UserDetails {\n    const token = this.getToken();\n\n    let payload;\n\n    if(token) {\n      payload = token.split('.')[1];\n      payload = window.atob(payload);\n      return JSON.parse(payload);\n    } else {\n      return null;\n    }\n  }\n\n  public isLoggedIn(): boolean {\n    const user = this.getUserDetails();\n    if (user) {\n      return user.exp > Date.now() / 1000;\n    } else {\n      return false;\n    }\n  }\n}\n\nexport interface UserDetails {\n  _id: String,\n  email: string;\n  name: string;\n  exp: number;\n  iat: number;\n}\n\nexport interface TokenResponse {\n  token: string;\n}","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<h1> Login </h1>\\n<form [formGroup] = 'loginForm' (submit) = 'login()'>\\n  <div class='form-group'>\\n    <label for = 'email'> Email </label>\\n    <input type='email' class='form-control' formControlName='email' placeholder='Enter your email'/>\\n  </div>\\n  <div class='form-group'>\\n    <label for = 'password'> Password </label>\\n    <input type='password' class='form-control' formControlName='password' placeholder='Password'/>\\n  </div>\\n\\n  <button type='submit' class='btn btn-default'>Login</button>\\n</form>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  loginForm = new FormGroup({\n    email: new FormControl(''),\n    password: new FormControl(''),\n  });\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  login(){\n    alert(JSON.stringify(this.loginForm.value));\n  }\n\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlZ2lzdGVyL3JlZ2lzdGVyLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<h1>Register</h1>\\n<form [formGroup] = 'registerForm' (submit)='register()'>\\n  <div class=\\\"form-group\\\">\\n    <label for=\\\"name\\\">Full name</label>\\n    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName='name' placeholder=\\\"Enter your name\\\"/>\\n  </div>\\n\\n  <div class=\\\"form-group\\\">\\n    <label for=\\\"email\\\">Email</label>\\n    <input type=\\\"email\\\" class=\\\"form-control\\\" formControlName=\\\"email\\\" placeholder=\\\"Enter your email\\\"/>\\n  </div>\\n\\n  <div class=\\\"form-group\\\">\\n    <label for=\\\"name\\\">Password</label>\\n    <input type=\\\"password\\\" class=\\\"form-control\\\" formControlName=\\\"password\\\" placeholder=\\\"Password\\\"/>\\n  </div>\\n\\n  <button type=\\\"submit\\\" class=\\\"btn btn-default\\\">Register!</button>\\n</form>\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service'; \nimport { Router } from '@angular/router';\nimport { FormGroup, FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n  registerForm = new FormGroup({\n    name: new FormControl(\"\"),\n    email: new FormControl(\"\"),\n    password: new FormControl(\"\"),\n  });\n  \n  constructor(private auth: AuthService, private route: Router) { }\n\n  ngOnInit() {\n  }\n\n  register() {\n    this.auth.register(this.registerForm.value).subscribe(() => {\n      this.route.navigate(['/login'])\n    }, (err) => {\n      console.log(err);\n    })\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}